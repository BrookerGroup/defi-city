## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£](#1-‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£)
2. [‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢](#2-‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢)
3. [‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢](#3-‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢)
4. [‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö](#4-‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö)
5. [‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö](#5-‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö)
6. [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ](#6-‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ)
7. [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#7-‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
8. [‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î](#8-‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)
9. [‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#9-‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
10. [‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢](#10-‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢)

---

## 1. ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?

**DeFi City** ‡∏Ñ‡∏∑‡∏≠‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏°‡πÄ‡∏Å‡∏° City Builder ‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏ö‡∏ö DeFi (Decentralized Finance) ‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô

### ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ô‡∏µ‡πâ‡∏ó‡∏≥:

- ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á "Smart Wallet" (‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞) ‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
- ‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô (ETH, USDC) ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà Smart Wallet
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÉ‡∏ô‡πÄ‡∏Å‡∏° (‡πÄ‡∏ä‡πà‡∏ô Yield Farm ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢)
- ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡∏´‡∏•‡∏±‡∏Å (MetaMask) ‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©:

- ‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ö‡∏ô Blockchain
- ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏≠‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ
- ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢ ‡∏•‡∏á‡∏ó‡∏∏‡∏ô DeFi ‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢

---

## 2. ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ:

1. **DeFi ‡∏¢‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ** - ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏¢‡∏≠‡∏∞ UI ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
2. **‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏ô‡πà‡∏≤‡πÄ‡∏ö‡∏∑‡πà‡∏≠** - ‡∏î‡∏π‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÑ‡∏õ‡∏°‡∏≤ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ó‡∏≥

### ‡πÇ‡∏ã‡∏•‡∏π‡∏ä‡∏±‡∏ô:

- **‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô DeFi ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Å‡∏°** - ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Å‡∏î "Deposit" ‡πÉ‡∏´‡πâ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£ "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£"
- **‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏ô‡∏∏‡∏Å** - ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° + ‡πÑ‡∏î‡πâ‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏à‡∏£‡∏¥‡∏á‡πÜ

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:

```
‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° (DeFi):
"Deposit 100 USDC to Aave Pool, APY 5.2%"
üò¥ ‡∏ô‡πà‡∏≤‡πÄ‡∏ö‡∏∑‡πà‡∏≠ ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£

‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà (DeFi City):
"Build Yield Farm - Cost: 100 USDC, Returns: 5.2% per year"
üèóÔ∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÉ‡∏´‡∏ç‡πà ‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï ‡∏°‡∏µ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô ‡∏™‡∏ô‡∏∏‡∏Å‡∏Å‡∏ß‡πà‡∏≤!
```

---

## 3. ‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢

‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡∏°‡∏≤‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô:

### Blockchain & Crypto

- **Blockchain** = ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏™‡∏°‡∏∏‡∏î‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏µ‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô
- **Smart Contract** = ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ô‡∏ö‡∏ô Blockchain ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ
- **ETH** = ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç Ethereum (‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤ Gas ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°)
- **USDC** = Stablecoin (‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤ 1 USDC = 1 USD ‡πÄ‡∏™‡∏°‡∏≠)

### Wallet (‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô)

- **EOA (Externally Owned Account)** = ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô MetaMask

  - ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢ Private Key (‡∏£‡∏´‡∏±‡∏™‡∏•‡∏±‡∏ö)
  - ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡∏Ñ‡πà‡∏≤ Gas ‡πÄ‡∏≠‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

- **Smart Wallet (Smart Contract Wallet)** = ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏ï‡∏±‡∏á‡∏Ñ‡πå‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞
  - ‡πÄ‡∏õ‡πá‡∏ô Smart Contract ‡∏ö‡∏ô Blockchain
  - ‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
  - ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏é‡πÑ‡∏î‡πâ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡∏≠‡∏ô‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô X ‡∏ö‡∏≤‡∏ó)

### DeFi Protocols

- **Aave** = ‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÉ‡∏´‡πâ‡∏¢‡∏∑‡∏°-‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô (‡∏ù‡∏≤‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏î‡πâ‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢)
- **Uniswap** = ‡∏ï‡∏•‡∏≤‡∏î‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç (‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏™‡∏†‡∏≤‡∏û‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°)
- **LP (Liquidity Provider)** = ‡∏ú‡∏π‡πâ‡πÉ‡∏´‡πâ‡∏™‡∏†‡∏≤‡∏û‡∏Ñ‡∏•‡πà‡∏≠‡∏á (‡∏ù‡∏≤‡∏Å‡∏Ñ‡∏π‡πà‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÄ‡∏Ç‡πâ‡∏≤ Pool)
- **Yield Farm** = ‡∏Å‡∏≤‡∏£‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢

### Gas

- **Gas** = ‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ö‡∏ô Blockchain
- ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Ñ‡πà‡∏≤‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Smart Contract ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‡∏¢‡∏¥‡πà‡∏á‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô ‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏µ‡∏¢ Gas ‡πÄ‡∏¢‡∏≠‡∏∞

---

## 4. ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ DeFi City ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Smart Contract ‡∏´‡∏•‡∏±‡∏Å 2 ‡∏ï‡∏±‡∏ß:

### 4.1 SimpleSmartWallet.sol (‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞)

**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:**

```solidity
‚úÖ ‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô ETH (‡∏£‡∏±‡∏ö ETH ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤)
‚úÖ ‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô ERC20 (‡∏£‡∏±‡∏ö USDC, USDT, ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏≠‡∏∑‡πà‡∏ô‡πÜ)
‚úÖ ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ETH ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ
‚úÖ ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô ERC20 ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ
‚úÖ ‡∏î‡∏π‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠
‚úÖ ‡πÇ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤
```

**‡∏Å‡∏•‡πÑ‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:**

- ‡∏°‡∏µ `owner` (‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á) ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- **‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á** ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö address ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô zero address (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏≤‡∏¢)
- ‡πÉ‡∏ä‡πâ Custom Errors (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î Gas)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

```solidity
// ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á wallet
address public owner;

// ‡∏ù‡∏≤‡∏Å ETH (‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤)
receive() external payable {
    emit Deposited(address(0), msg.value, msg.sender);
}

// ‡∏ñ‡∏≠‡∏ô ETH (‡∏™‡πà‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ)
function withdrawETH(address payable to, uint256 amount) public onlyOwner {
    if (to == address(0)) revert InvalidAddress();
    if (address(this).balance < amount) revert InsufficientBalance();

    (bool success,) = to.call{value: amount}("");
    if (!success) revert TransferFailed();

    emit Withdrawn(address(0), amount, to);
}
```

### 4.2 SimpleWalletFactory.sol (‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏£‡πâ‡∏≤‡∏á Wallet)

**‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:** ‡∏™‡∏£‡πâ‡∏≤‡∏á Smart Wallet ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ:**

```solidity
‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á wallet ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
‚úÖ ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ wallet ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
‚úÖ ‡∏î‡∏∂‡∏á address ‡∏Ç‡∏≠‡∏á wallet ‡∏à‡∏≤‡∏Å address ‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á
‚úÖ ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô wallet ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á
```

**‡∏Å‡∏•‡πÑ‡∏Å‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:**

- ‡πÄ‡∏Å‡πá‡∏ö mapping ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á `owner address` ‚Üí `wallet address`
- ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô 1 ‡∏Ñ‡∏ô ‡∏°‡∏µ‡πÑ‡∏î‡πâ **1 wallet ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô**
- ‡∏ñ‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥‡∏à‡∏∞ revert (‡∏´‡πâ‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥)

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:**

```solidity
// ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏°‡∏µ wallet ‡∏≠‡∏∞‡πÑ‡∏£
mapping(address => address) public wallets;

// ‡∏™‡∏£‡πâ‡∏≤‡∏á wallet ‡πÉ‡∏´‡∏°‡πà
function createWallet(address owner) external returns (address wallet) {
    // ‡∏´‡πâ‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥
    if (wallets[owner] != address(0)) revert WalletAlreadyExists();

    // Deploy wallet contract ‡πÉ‡∏´‡∏°‡πà
    SimpleSmartWallet newWallet = new SimpleSmartWallet(owner);
    wallet = address(newWallet);

    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á mapping
    wallets[owner] = wallet;
    totalWallets++;

    emit WalletCreated(owner, wallet, totalWallets);
}

// ‡∏î‡∏∂‡∏á wallet address ‡∏à‡∏≤‡∏Å owner
function getWallet(address owner) external view returns (address) {
    return wallets[owner];
}
```

---

## 5. ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö

‡∏°‡∏≤‡∏î‡∏π‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏ô‡∏à‡∏ô‡∏à‡∏ö:

### 5.1 Flow ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (User Journey)

```
1. ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ MetaMask
   ‚îÇ
   ‚Üì
2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á Smart Wallet ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô (‡∏ú‡πà‡∏≤‡∏ô Factory)
   ‚îÇ
   ‚Üì
3. ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô (ETH/USDC) ‡∏à‡∏≤‡∏Å MetaMask ‚Üí Smart Wallet
   ‚îÇ
   ‚Üì
4. ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ (‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô Smart Wallet)
   ‚îÇ   ‚îú‚îÄ‚îÄ ‡∏™‡∏£‡πâ‡∏≤‡∏á Yield Farm (‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏õ Aave ‡∏£‡∏±‡∏ö‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢)
   ‚îÇ   ‚îú‚îÄ‚îÄ ‡∏™‡∏£‡πâ‡∏≤‡∏á LP Mine (‡∏ù‡∏≤‡∏Å‡∏Ñ‡∏π‡πà‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÑ‡∏õ Uniswap ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°)
   ‚îÇ   ‚îî‚îÄ‚îÄ ‡∏≠‡∏∑‡πà‡∏ô‡πÜ...
   ‚îÇ
   ‚Üì
5. ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô (Harvest)
   ‚îÇ
   ‚Üì
6. ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏•‡∏±‡∏ö Smart Wallet ‚Üí MetaMask
```

### 5.2 ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏¥‡∏á

**‡∏™‡∏°‡∏°‡∏ï‡∏¥:** ‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠ Alice ‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô 1000 USDC ‡πÉ‡∏ô MetaMask

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Wallet

```javascript
// ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "Connect Wallet" ‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
const provider = new ethers.BrowserProvider(window.ethereum);
const signer = await provider.getSigner();
const aliceAddress = await signer.getAddress();

console.log("Alice address:", aliceAddress);
// Output: 0xAlice...
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏™‡∏£‡πâ‡∏≤‡∏á Smart Wallet

```javascript
// ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Factory Contract
const factory = new ethers.Contract(FACTORY_ADDRESS, ABI, signer);
const tx = await factory.createWallet(aliceAddress);
await tx.wait();

const aliceWallet = await factory.getWallet(aliceAddress);
console.log("Alice's Smart Wallet:", aliceWallet);
// Output: 0xWallet123...
```

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ Alice ‡∏°‡∏µ:**

- ‚úÖ MetaMask wallet: `0xAlice...` (‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô 1000 USDC)
- ‚úÖ Smart Wallet: `0xWallet123...` (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏á‡∏¥‡∏ô)

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ Smart Wallet

```javascript
// Alice ‡πÇ‡∏≠‡∏ô 500 USDC ‡∏à‡∏≤‡∏Å MetaMask ‚Üí Smart Wallet
const usdc = new ethers.Contract(USDC_ADDRESS, ERC20_ABI, signer);
const wallet = new ethers.Contract(aliceWallet, WALLET_ABI, signer);

// 3.1 Approve Smart Wallet ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ USDC ‡πÑ‡∏î‡πâ
await usdc.approve(aliceWallet, ethers.parseUnits("500", 6));

// 3.2 Deposit ‡πÄ‡∏Ç‡πâ‡∏≤ Smart Wallet
await wallet.depositToken(USDC_ADDRESS, ethers.parseUnits("500", 6));
```

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ Alice ‡∏°‡∏µ:**

- MetaMask: 500 USDC (‡πÄ‡∏´‡∏•‡∏∑‡∏≠)
- Smart Wallet: 500 USDC ‚úÖ

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ (‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°)

**Alice ‡∏™‡∏£‡πâ‡∏≤‡∏á Yield Farm ‡∏ó‡∏µ‡πà‡∏ù‡∏≤‡∏Å 500 USDC ‡πÑ‡∏õ Aave:**

```javascript
// 4.1 Approve Aave ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ USDC ‡πÉ‡∏ô Smart Wallet
const aavePool = new ethers.Contract(AAVE_POOL_ADDRESS, AAVE_ABI, provider);

const approveCalldata = new ethers.Interface([
  "function approve(address spender, uint256 amount)",
]).encodeFunctionData("approve", [
  AAVE_POOL_ADDRESS,
  ethers.parseUnits("500", 6),
]);

// Smart Wallet ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô approve ‡∏ö‡∏ô USDC contract
await wallet.execute(USDC_ADDRESS, 0, approveCalldata);

// 4.2 Supply USDC ‡πÑ‡∏õ Aave
const supplyCalldata = aavePool.interface.encodeFunctionData("supply", [
  USDC_ADDRESS,
  ethers.parseUnits("500", 6),
  aliceWallet, // aUSDC ‡∏à‡∏∞‡πÑ‡∏õ‡∏ó‡∏µ‡πà Smart Wallet
  0,
]);

await wallet.execute(AAVE_POOL_ADDRESS, 0, supplyCalldata);

console.log("‚úÖ Yield Farm ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!");
```

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ:**

- Smart Wallet ‡∏°‡∏µ: 500 aUSDC (‡∏ï‡∏±‡πã‡∏ß‡∏ù‡∏≤‡∏Å‡πÄ‡∏á‡∏¥‡∏ô Aave)
- aUSDC ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ (‡πÑ‡∏î‡πâ‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ 5.2% ‡∏ï‡πà‡∏≠‡∏õ‡∏µ)

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß (Harvest)

**1 ‡∏õ‡∏µ‡∏ï‡πà‡∏≠‡∏°‡∏≤ aUSDC ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô 526 USDC (‡πÑ‡∏î‡πâ‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ 26 USDC):**

```javascript
// Withdraw ‡∏à‡∏≤‡∏Å Aave
const withdrawCalldata = aavePool.interface.encodeFunctionData("withdraw", [
  USDC_ADDRESS,
  ethers.parseUnits("526", 6), // ‡∏ñ‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
  aliceWallet,
]);

await wallet.execute(AAVE_POOL_ADDRESS, 0, withdrawCalldata);

console.log("‚úÖ ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏•‡πâ‡∏ß! ‡πÑ‡∏î‡πâ 526 USDC");
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏Å‡∏•‡∏±‡∏ö MetaMask

```javascript
// ‡∏ñ‡∏≠‡∏ô 526 USDC ‡∏à‡∏≤‡∏Å Smart Wallet ‚Üí MetaMask
await wallet.withdrawToken(
  USDC_ADDRESS,
  aliceAddress, // ‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà MetaMask ‡∏Ç‡∏≠‡∏á Alice
  ethers.parseUnits("526", 6)
);

console.log("‚úÖ ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!");
```

**‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**

- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: 1000 USDC
- ‡∏ù‡∏≤‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Å‡∏°: 500 USDC
- ‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô: +26 USDC (5.2% ‡∏ï‡πà‡∏≠‡∏õ‡∏µ)
- **‡∏ñ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ: 526 USDC** ‚úÖ
- **‡∏Å‡∏≥‡πÑ‡∏£: 26 USDC** üéâ

---

## 6. ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```
defi-city/
‚îÇ
‚îú‚îÄ‚îÄ contracts/                    # Smart Contracts (‡πÇ‡∏Ñ‡πâ‡∏î‡∏´‡∏•‡∏±‡∏Å)
‚îÇ   ‚îú‚îÄ‚îÄ SimpleSmartWallet.sol     # Wallet Contract
‚îÇ   ‚îú‚îÄ‚îÄ SimpleWalletFactory.sol   # Factory Contract
‚îÇ   ‚îú‚îÄ‚îÄ MockERC20.sol             # Token ‡∏õ‡∏•‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö
‚îÇ   ‚îî‚îÄ‚îÄ interfaces/               # ERC-4337 interfaces
‚îÇ       ‚îú‚îÄ‚îÄ IAccount.sol
‚îÇ       ‚îú‚îÄ‚îÄ IEntryPoint.sol
‚îÇ       ‚îî‚îÄ‚îÄ UserOperation.sol
‚îÇ
‚îú‚îÄ‚îÄ scripts/                      # ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deploy
‚îÇ   ‚îî‚îÄ‚îÄ deploy.js                 # Deploy contract ‡∏Ç‡∏∂‡πâ‡∏ô blockchain
‚îÇ
‚îú‚îÄ‚îÄ test/                         # Test files
‚îÇ   ‚îî‚îÄ‚îÄ SimpleWallet.test.js      # ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á contract
‚îÇ
‚îú‚îÄ‚îÄ docs/                         # ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
‚îÇ   ‚îú‚îÄ‚îÄ USAGE_EXAMPLES.md         # ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
‚îÇ   ‚îú‚îÄ‚îÄ AA_ARCHITECTURE.md        # ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° Account Abstraction
‚îÇ   ‚îú‚îÄ‚îÄ SECURITY.md               # ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
‚îÇ   ‚îú‚îÄ‚îÄ DEPLOYMENT.md             # ‡∏ß‡∏¥‡∏ò‡∏µ Deploy
‚îÇ   ‚îî‚îÄ‚îÄ THAI_TUTORIAL.md          # ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ (‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ)
‚îÇ
‚îú‚îÄ‚îÄ hardhat.config.js             # ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Hardhat (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ Dev)
‚îú‚îÄ‚îÄ package.json                  # Dependencies
‚îú‚îÄ‚îÄ README.md                     # README ‡∏´‡∏•‡∏±‡∏Å
‚îî‚îÄ‚îÄ QUICKSTART.md                 # ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß
```

### ‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:

**1. hardhat.config.js** - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢

```javascript
module.exports = {
  solidity: "0.8.20",
  networks: {
    localhost: {
      url: "http://127.0.0.1:8545",
    },
    sepolia: {
      url: SEPOLIA_RPC_URL,
      accounts: [PRIVATE_KEY],
    },
    base: {
      url: BASE_RPC_URL,
      accounts: [PRIVATE_KEY],
    },
  },
};
```

**2. package.json** - Dependencies

```json
{
  "dependencies": {
    "@openzeppelin/contracts": "^5.4.0", // Library ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
    "dotenv": "^16.3.1" // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ environment variables
  },
  "devDependencies": {
    "hardhat": "^2.19.0", // Framework ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏±‡∏í‡∏ô‡∏≤
    "@nomicfoundation/hardhat-toolbox": "^4.0.0"
  }
}
```

---

## 7. ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 7.1 ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö (Requirements)

**‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:**

- Node.js (v16 ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤)
- npm ‡∏´‡∏£‡∏∑‡∏≠ yarn
- Git
- MetaMask (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö)

**‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:**

- JavaScript ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
- ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à Blockchain ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)

### 7.2 ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```bash
# Clone repository (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
git clone <repository-url>
cd defi-city

# ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß
cd /Users/da-m3/Desktop/defi-city
```

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies

```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á packages ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
npm install

# ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ yarn
yarn install
```

**‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á:**

- Hardhat (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤ Smart Contract)
- OpenZeppelin Contracts (Library ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô)
- Ethers.js (‡πÉ‡∏ä‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Blockchain)

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: Compile Contracts

```bash
# Compile Smart Contracts
npx hardhat compile
```

**Output:**

```
Compiling 3 files with 0.8.20
Compilation finished successfully
‚úÖ Artifacts saved to: artifacts/
```

**‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:**

- `artifacts/contracts/SimpleSmartWallet.sol/SimpleSmartWallet.json` (ABI + Bytecode)
- `artifacts/contracts/SimpleWalletFactory.sol/SimpleWalletFactory.json`

### 7.3 ‡∏£‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```bash
# ‡∏£‡∏±‡∏ô test ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
npx hardhat test
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ:**

```
  SimpleWallet System
    Factory
      ‚úî Should deploy factory successfully (250ms)
      ‚úî Should create wallet for user (180ms)
      ‚úî Should revert if creating wallet for same user twice (90ms)
      ‚úî Should get or create wallet (200ms)
    Wallet - Deposit & Withdraw ETH
      ‚úî Should have correct owner
      ‚úî Should deposit ETH to wallet (80ms)
      ‚úî Should withdraw ETH from wallet (120ms)
      ‚úî Should withdraw all ETH from wallet (110ms)
      ‚úî Should revert if non-owner tries to withdraw (70ms)
      ‚úî Should revert if insufficient balance (60ms)
    Wallet - Deposit & Withdraw ERC20
      ‚úî Should deposit tokens to wallet (150ms)
      ‚úî Should withdraw tokens from wallet (140ms)
      ‚úî Should withdraw all tokens from wallet (130ms)
      ‚úî Should revert if non-owner tries to withdraw tokens (80ms)
    Ownership
      ‚úî Should transfer ownership (100ms)

  15 passing (2s)
```

### 7.4 Deploy ‡∏ö‡∏ô Local Network

**Terminal 1: ‡πÄ‡∏£‡∏¥‡πà‡∏° Local Blockchain**

```bash
npx hardhat node
```

**Output:**

```
Started HTTP and WebSocket JSON-RPC server at http://127.0.0.1:8545/

Accounts
========

Account #0: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
Private Key: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

Account #1: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
Private Key: 0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d
...
```

**Terminal 2: Deploy Contracts**

```bash
npx hardhat run scripts/deploy.js --network localhost
```

**Output:**

```
üöÄ Deploying contracts...

üìù Deploying SimpleWalletFactory...
‚úÖ Factory deployed to: 0x5FbDB2315678afecb367f032d93F642f64180aa3

‚úÖ Deployment complete!

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üìã Deployment Summary
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Factory Address:
0x5FbDB2315678afecb367f032d93F642f64180aa3

Network: localhost

Save these addresses!
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

**‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å address ‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ!** ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

---

## 8. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

### 8.1 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Contract ‡∏ó‡∏µ‡πà Deploy ‡πÅ‡∏•‡πâ‡∏ß

```javascript
const { ethers } = require("ethers");

// 1. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Local Network
const provider = new ethers.JsonRpcProvider("http://127.0.0.1:8545");

// 2. ‡πÉ‡∏ä‡πâ account ‡∏à‡∏≤‡∏Å Hardhat node
const privateKey =
  "0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80";
const signer = new ethers.Wallet(privateKey, provider);

console.log("Connected as:", await signer.getAddress());
// Output: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
```

### 8.2 ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Factory Contract

```javascript
// Factory address (‡∏à‡∏≤‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô Deploy)
const FACTORY_ADDRESS = "0x5FbDB2315678afecb367f032d93F642f64180aa3";

// ABI (‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å artifacts)
const factoryArtifact = require("./artifacts/contracts/SimpleWalletFactory.sol/SimpleWalletFactory.json");
const FACTORY_ABI = factoryArtifact.abi;

// ‡∏™‡∏£‡πâ‡∏≤‡∏á Contract instance
const factory = new ethers.Contract(FACTORY_ADDRESS, FACTORY_ABI, signer);

console.log("Factory contract loaded!");
```

### 8.3 ‡∏™‡∏£‡πâ‡∏≤‡∏á Smart Wallet

```javascript
async function createSmartWallet(ownerAddress) {
  console.log("Creating wallet for:", ownerAddress);

  // 1. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ wallet ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
  let walletAddress = await factory.getWallet(ownerAddress);

  if (walletAddress === ethers.ZeroAddress) {
    console.log("Wallet not found. Creating new one...");

    // 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á wallet ‡πÉ‡∏´‡∏°‡πà
    const tx = await factory.createWallet(ownerAddress);
    console.log("Transaction sent:", tx.hash);

    // 3. ‡∏£‡∏≠‡πÉ‡∏´‡πâ transaction ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    const receipt = await tx.wait();
    console.log("Transaction confirmed!");
    console.log("Gas used:", receipt.gasUsed.toString());

    // 4. ‡∏î‡∏∂‡∏á wallet address
    walletAddress = await factory.getWallet(ownerAddress);
  } else {
    console.log("Wallet already exists!");
  }

  console.log("Wallet address:", walletAddress);
  return walletAddress;
}

// ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
const myAddress = await signer.getAddress();
const myWallet = await createSmartWallet(myAddress);
```

**Output:**

```
Creating wallet for: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
Wallet not found. Creating new one...
Transaction sent: 0x1234567890abcdef...
Transaction confirmed!
Gas used: 354821
Wallet address: 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
```

### 8.4 ‡∏ù‡∏≤‡∏Å ETH ‡πÄ‡∏Ç‡πâ‡∏≤ Smart Wallet

```javascript
async function depositETH(walletAddress, amountInEther) {
  console.log(`Depositing ${amountInEther} ETH to wallet...`);

  // ‡∏™‡πà‡∏á ETH ‡πÑ‡∏õ‡∏ó‡∏µ‡πà wallet
  const tx = await signer.sendTransaction({
    to: walletAddress,
    value: ethers.parseEther(amountInEther),
  });

  await tx.wait();
  console.log("‚úÖ Deposit successful!");

  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô
  const balance = await provider.getBalance(walletAddress);
  console.log("New balance:", ethers.formatEther(balance), "ETH");
}

// ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
await depositETH(myWallet, "1.0"); // ‡∏ù‡∏≤‡∏Å 1 ETH
```

**Output:**

```
Depositing 1.0 ETH to wallet...
‚úÖ Deposit successful!
New balance: 1.0 ETH
```

### 8.5 ‡∏ñ‡∏≠‡∏ô ETH ‡∏à‡∏≤‡∏Å Smart Wallet

```javascript
async function withdrawETH(walletAddress, recipientAddress, amountInEther) {
  console.log(`Withdrawing ${amountInEther} ETH...`);

  // ‡πÇ‡∏´‡∏•‡∏î Wallet contract
  const walletArtifact = require("./artifacts/contracts/SimpleSmartWallet.sol/SimpleSmartWallet.json");
  const wallet = new ethers.Contract(walletAddress, walletArtifact.abi, signer);

  // ‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô
  const tx = await wallet.withdrawETH(
    recipientAddress,
    ethers.parseEther(amountInEther)
  );

  await tx.wait();
  console.log("‚úÖ Withdrawal successful!");

  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
  const balance = await wallet.getETHBalance();
  console.log("Remaining balance:", ethers.formatEther(balance), "ETH");
}

// ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
const recipient = "0x70997970C51812dc3A010C7d01b50e0d17dc79C8"; // Account #1
await withdrawETH(myWallet, recipient, "0.5"); // ‡∏ñ‡∏≠‡∏ô 0.5 ETH
```

**Output:**

```
Withdrawing 0.5 ETH...
‚úÖ Withdrawal successful!
Remaining balance: 0.5 ETH
```

### 8.6 ‡∏ù‡∏≤‡∏Å-‡∏ñ‡∏≠‡∏ô ERC20 Token (USDC)

#### 8.6.1 Deploy Mock USDC Token

```javascript
async function deployMockUSDC() {
  const MockERC20 = await ethers.getContractFactory("MockERC20");
  const usdc = await MockERC20.deploy("USD Coin", "USDC", 6); // 6 decimals
  await usdc.waitForDeployment();

  const usdcAddress = await usdc.getAddress();
  console.log("Mock USDC deployed to:", usdcAddress);

  // Mint 10,000 USDC ‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
  await usdc.mint(await signer.getAddress(), ethers.parseUnits("10000", 6));
  console.log("Minted 10,000 USDC");

  return usdc;
}

const usdc = await deployMockUSDC();
```

#### 8.6.2 ‡∏ù‡∏≤‡∏Å USDC ‡πÄ‡∏Ç‡πâ‡∏≤ Smart Wallet

```javascript
async function depositUSDC(walletAddress, usdc, amount) {
  console.log(`Depositing ${amount} USDC...`);

  const walletArtifact = require("./artifacts/contracts/SimpleSmartWallet.sol/SimpleSmartWallet.json");
  const wallet = new ethers.Contract(walletAddress, walletArtifact.abi, signer);

  // 1. Approve wallet ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ USDC ‡πÑ‡∏î‡πâ
  const approveTx = await usdc.approve(
    walletAddress,
    ethers.parseUnits(amount, 6)
  );
  await approveTx.wait();
  console.log("‚úÖ Approved");

  // 2. Deposit USDC
  const depositTx = await wallet.depositToken(
    await usdc.getAddress(),
    ethers.parseUnits(amount, 6)
  );
  await depositTx.wait();
  console.log("‚úÖ Deposited");

  // 3. ‡πÄ‡∏ä‡πá‡∏Ñ‡∏¢‡∏≠‡∏î
  const balance = await wallet.getTokenBalance(await usdc.getAddress());
  console.log("USDC balance:", ethers.formatUnits(balance, 6), "USDC");
}

await depositUSDC(myWallet, usdc, "1000"); // ‡∏ù‡∏≤‡∏Å 1000 USDC
```

**Output:**

```
Depositing 1000 USDC...
‚úÖ Approved
‚úÖ Deposited
USDC balance: 1000.0 USDC
```

#### 8.6.3 ‡∏ñ‡∏≠‡∏ô USDC ‡∏à‡∏≤‡∏Å Smart Wallet

```javascript
async function withdrawUSDC(walletAddress, usdc, recipientAddress, amount) {
  console.log(`Withdrawing ${amount} USDC...`);

  const walletArtifact = require("./artifacts/contracts/SimpleSmartWallet.sol/SimpleSmartWallet.json");
  const wallet = new ethers.Contract(walletAddress, walletArtifact.abi, signer);

  // ‡∏ñ‡∏≠‡∏ô USDC
  const tx = await wallet.withdrawToken(
    await usdc.getAddress(),
    recipientAddress,
    ethers.parseUnits(amount, 6)
  );
  await tx.wait();
  console.log("‚úÖ Withdrawn");

  // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
  const balance = await wallet.getTokenBalance(await usdc.getAddress());
  console.log("Remaining USDC:", ethers.formatUnits(balance, 6), "USDC");
}

await withdrawUSDC(myWallet, usdc, recipient, "500"); // ‡∏ñ‡∏≠‡∏ô 500 USDC
```

### 8.7 ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå

‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå `examples/complete-flow.js`:

```javascript
const { ethers } = require("ethers");

async function main() {
  console.log("=== DeFi City Complete Example ===\n");

  // 1. Setup
  const provider = new ethers.JsonRpcProvider("http://127.0.0.1:8545");
  const signer = new ethers.Wallet(
    "0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80",
    provider
  );

  const userAddress = await signer.getAddress();
  console.log("üë§ User:", userAddress);

  // 2. Load Factory
  const FACTORY_ADDRESS = "0x5FbDB2315678afecb367f032d93F642f64180aa3";
  const factoryArtifact = require("../artifacts/contracts/SimpleWalletFactory.sol/SimpleWalletFactory.json");
  const factory = new ethers.Contract(
    FACTORY_ADDRESS,
    factoryArtifact.abi,
    signer
  );

  // 3. Create Wallet
  console.log("\nüì¶ Creating Smart Wallet...");
  const createTx = await factory.createWallet(userAddress);
  await createTx.wait();

  const walletAddress = await factory.getWallet(userAddress);
  console.log("‚úÖ Wallet created:", walletAddress);

  // 4. Deposit ETH
  console.log("\nüí∞ Depositing 2 ETH...");
  const depositTx = await signer.sendTransaction({
    to: walletAddress,
    value: ethers.parseEther("2.0"),
  });
  await depositTx.wait();
  console.log("‚úÖ Deposited 2 ETH");

  // 5. Check balance
  const walletArtifact = require("../artifacts/contracts/SimpleSmartWallet.sol/SimpleSmartWallet.json");
  const wallet = new ethers.Contract(walletAddress, walletArtifact.abi, signer);

  const balance = await wallet.getETHBalance();
  console.log("üíµ Wallet balance:", ethers.formatEther(balance), "ETH");

  // 6. Withdraw
  console.log("\nüì§ Withdrawing 1 ETH...");
  const withdrawTx = await wallet.withdrawETH(
    userAddress,
    ethers.parseEther("1.0")
  );
  await withdrawTx.wait();
  console.log("‚úÖ Withdrawn 1 ETH");

  // 7. Final balance
  const finalBalance = await wallet.getETHBalance();
  console.log("üíµ Final balance:", ethers.formatEther(finalBalance), "ETH");

  console.log("\n‚úÖ Complete!");
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
  });
```

**‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°:**

```bash
node examples/complete-flow.js
```

---

## 9. ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### 9.1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Test

‡∏î‡∏π‡∏ó‡∏µ‡πà `test/SimpleWallet.test.js`:

```javascript
const { expect } = require("chai");
const { ethers } = require("hardhat");

describe("SimpleWallet System", function () {
  let factory;
  let owner, user1, user2;

  // Setup ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ test
  beforeEach(async function () {
    [owner, user1, user2] = await ethers.getSigners();

    // Deploy Factory
    const Factory = await ethers.getContractFactory("SimpleWalletFactory");
    factory = await Factory.deploy();
  });

  describe("Factory", function () {
    it("Should create wallet for user", async function () {
      // ‡∏™‡∏£‡πâ‡∏≤‡∏á wallet
      await factory.createWallet(user1.address);

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏î‡πâ wallet address
      const walletAddress = await factory.getWallet(user1.address);
      expect(walletAddress).to.not.equal(ethers.ZeroAddress);

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ wallet ‡∏°‡∏µ owner ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
      const wallet = await ethers.getContractAt(
        "SimpleSmartWallet",
        walletAddress
      );
      expect(await wallet.owner()).to.equal(user1.address);
    });

    it("Should revert if creating wallet twice", async function () {
      await factory.createWallet(user1.address);

      // ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ã‡πâ‡∏≥ ‚Üí ‡∏Ñ‡∏ß‡∏£ revert
      await expect(
        factory.createWallet(user1.address)
      ).to.be.revertedWithCustomError(factory, "WalletAlreadyExists");
    });
  });

  describe("Wallet - ETH", function () {
    let wallet;

    beforeEach(async function () {
      await factory.createWallet(user1.address);
      const walletAddress = await factory.getWallet(user1.address);
      wallet = await ethers.getContractAt("SimpleSmartWallet", walletAddress);
    });

    it("Should deposit ETH", async function () {
      // ‡∏ù‡∏≤‡∏Å 1 ETH
      await user1.sendTransaction({
        to: await wallet.getAddress(),
        value: ethers.parseEther("1.0"),
      });

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏¢‡∏≠‡∏î
      expect(await wallet.getETHBalance()).to.equal(ethers.parseEther("1.0"));
    });

    it("Should withdraw ETH", async function () {
      // ‡∏ù‡∏≤‡∏Å
      await user1.sendTransaction({
        to: await wallet.getAddress(),
        value: ethers.parseEther("1.0"),
      });

      // ‡∏ñ‡∏≠‡∏ô
      await wallet
        .connect(user1)
        .withdrawETH(user1.address, ethers.parseEther("0.5"));

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
      expect(await wallet.getETHBalance()).to.equal(ethers.parseEther("0.5"));
    });

    it("Should revert if non-owner tries to withdraw", async function () {
      await user1.sendTransaction({
        to: await wallet.getAddress(),
        value: ethers.parseEther("1.0"),
      });

      // user2 ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ñ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á user1 ‚Üí ‡∏Ñ‡∏ß‡∏£ revert
      await expect(
        wallet
          .connect(user2)
          .withdrawETH(user2.address, ethers.parseEther("0.5"))
      ).to.be.revertedWithCustomError(wallet, "OnlyOwner");
    });
  });
});
```

### 9.2 ‡∏£‡∏±‡∏ô Test ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

```bash
# ‡∏£‡∏±‡∏ô test ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏™‡∏î‡∏á gas usage
npx hardhat test --verbose

# ‡∏£‡∏±‡∏ô test ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå
npx hardhat test test/SimpleWallet.test.js

# ‡∏£‡∏±‡∏ô test ‡πÅ‡∏ö‡∏ö watch mode (‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
npx hardhat test --watch
```

---

## 10. ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (FAQ)

### Q1: Smart Wallet ‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å MetaMask ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?

**A:**
| Feature | MetaMask (EOA) | Smart Wallet |
|---------|----------------|--------------|
| ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÇ‡∏î‡∏¢ | Private Key | Smart Contract Code |
| ‡∏ï‡∏±‡πâ‡∏á‡∏Å‡∏é‡πÑ‡∏î‡πâ | ‚ùå | ‚úÖ (‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô) |
| Gasless TX | ‚ùå | ‚úÖ (‡πÉ‡∏ä‡πâ ERC-4337) |
| ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô | ‡∏á‡πà‡∏≤‡∏¢ | ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Å‡∏ß‡πà‡∏≤ |
| ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ | ‡∏ï‡πà‡∏≥ | ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ (‡∏ï‡πâ‡∏≠‡∏á deploy contract) |

### Q2: ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ Factory? ‡∏™‡∏£‡πâ‡∏≤‡∏á Wallet ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏´‡∏£‡∏≠?

**A:** ‡πÑ‡∏î‡πâ! ‡πÅ‡∏ï‡πà Factory ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ:

- **‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡πà‡∏≤‡∏¢**: ‡∏°‡∏µ mapping ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á owner ‚Üí wallet
- **‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏á‡πà‡∏≤‡∏¢**: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å `getWallet(owner)` ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- **‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ã‡πâ‡∏≥**: 1 ‡∏Ñ‡∏ô‡∏°‡∏µ‡πÑ‡∏î‡πâ 1 wallet
- **‡∏ô‡∏±‡∏ö‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥**: ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏µ‡πà‡∏Ñ‡∏ô

### Q3: ‡∏ñ‡πâ‡∏≤ Private Key ‡∏´‡∏≤‡∏¢ Smart Wallet ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡∏î‡πâ‡∏ß‡∏¢‡πÑ‡∏´‡∏°?

**A:** ‡πÉ‡∏ä‡πà! Smart Wallet ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏¢‡∏±‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÇ‡∏î‡∏¢ owner address (EOA)

- ‡∏ñ‡πâ‡∏≤ Private Key ‡∏Ç‡∏≠‡∏á EOA ‡∏´‡∏≤‡∏¢ ‚Üí ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Smart Wallet ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
- **‡πÇ‡∏ã‡∏•‡∏π‡∏ä‡∏±‡∏ô:** ‡πÉ‡∏ä‡πâ Social Recovery (Phase 4 ‡πÉ‡∏ô Roadmap)

### Q4: Gas ‡∏Ñ‡∏¥‡∏î‡∏¢‡∏±‡∏á‡πÑ‡∏á? ‡πÅ‡∏û‡∏á‡πÑ‡∏´‡∏°?

**A:** ‡∏Ñ‡πà‡∏≤ Gas ‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô:

- **Deploy Factory**: ~800,000 gas (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
- **Create Wallet**: ~350,000 gas (~$0.007 ‡∏ö‡∏ô Base L2)
- **Deposit/Withdraw**: ~25,000-30,000 gas

**‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö EOA:**

- EOA transfer: ~21,000 gas
- Smart Wallet ‡πÅ‡∏û‡∏á‡∏Å‡∏ß‡πà‡∏≤ ‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÄ‡∏¢‡∏≠‡∏∞‡∏Å‡∏ß‡πà‡∏≤

### Q5: ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÑ‡∏´‡∏°? ‡∏ñ‡πâ‡∏≤‡πÇ‡∏î‡∏ô‡πÅ‡∏Æ‡∏Å‡∏•‡πà‡∏∞?

**A:** ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:

- ‚úÖ Owner-only access (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ñ‡∏≠‡∏ô‡πÑ‡∏î‡πâ)
- ‚úÖ Address validation (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏≤‡∏¢)
- ‚úÖ Custom errors (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î gas)
- ‚ö†Ô∏è **‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô audit** (‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á MVP)

**‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á:**

- ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö production
- ‡∏Ñ‡∏ß‡∏£ audit ‡πÇ‡∏Ñ‡πâ‡∏î‡∏Å‡πà‡∏≠‡∏ô deploy ‡∏à‡∏£‡∏¥‡∏á
- ‡∏£‡∏∞‡∏ß‡∏±‡∏á reentrancy attack (‡πÉ‡∏ô Phase 2)

### Q6: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö DeFi protocols (Aave, Uniswap) ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?

**A:** ‡πÑ‡∏î‡πâ! (Phase 2 ‡πÉ‡∏ô Roadmap)

- ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ `execute()` function
- ‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô Phase 2:**

```solidity
function execute(address target, uint256 value, bytes calldata data)
    external onlyOwner
{
    (bool success, ) = target.call{value: value}(data);
    require(success, "Execution failed");
}
```

### Q7: ‡∏ó‡∏≥ Batch operations (‡∏´‡∏•‡∏≤‡∏¢ transaction ‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß) ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?

**A:** ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Phase 2)

```solidity
function executeBatch(
    address[] calldata targets,
    uint256[] calldata values,
    bytes[] calldata calldatas
) external onlyOwner {
    for (uint i = 0; i < targets.length; i++) {
        // Execute each call
    }
}
```

### Q8: ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á Wallet ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?

**A:** ‡πÑ‡∏î‡πâ! ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô `transferOwnership()`

```javascript
await wallet.transferOwnership(newOwnerAddress);
```

**‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:** ‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡πÑ‡∏î‡πâ!

### Q9: Deploy ‡∏ö‡∏ô Mainnet ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?

**A:**

1. **ETH ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Gas** - ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 0.05-0.1 ETH
2. **RPC URL** - Infura ‡∏´‡∏£‡∏∑‡∏≠ Alchemy
3. **Private Key** - ‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô `.env` (‡∏≠‡∏¢‡πà‡∏≤ commit!)
4. **Verify Contract** - ‡πÉ‡∏ä‡πâ Etherscan API

```bash
# Deploy ‡∏ö‡∏ô Sepolia Testnet
npx hardhat run scripts/deploy.js --network sepolia

# Verify contract
npx hardhat verify --network sepolia DEPLOYED_ADDRESS
```

### Q10: ‡∏°‡∏µ Frontend ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏´‡∏°?

**A:** ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÅ‡∏ï‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ React Hook ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ:

```jsx
import { useState, useEffect } from "react";
import { ethers } from "ethers";

function useSmartWallet() {
  const [wallet, setWallet] = useState(null);

  useEffect(() => {
    async function init() {
      const provider = new ethers.BrowserProvider(window.ethereum);
      const signer = await provider.getSigner();
      const eoa = await signer.getAddress();

      const factory = new ethers.Contract(FACTORY, ABI, signer);
      let walletAddr = await factory.getWallet(eoa);

      if (walletAddr === ethers.ZeroAddress) {
        const tx = await factory.createWallet(eoa);
        await tx.wait();
        walletAddr = await factory.getWallet(eoa);
      }

      setWallet(walletAddr);
    }

    init();
  }, []);

  return wallet;
}

export default function App() {
  const wallet = useSmartWallet();

  return (
    <div>
      <h1>DeFi City</h1>
      <p>Wallet: {wallet}</p>
    </div>
  );
}
```

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ

### ‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ:

1. **Smart Wallet ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£** - ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢‡πÇ‡∏Ñ‡πâ‡∏î
2. **Factory Pattern** - ‡∏™‡∏£‡πâ‡∏≤‡∏á wallet ‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö
3. **DeFi Integration** - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Aave, Uniswap
4. **Security Best Practices** - Owner-only, validation, custom errors

### üöÄ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ:

1. ‚úÖ **‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏£‡∏±‡∏ô**: Deploy ‡∏ö‡∏ô localhost ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
2. ‚úÖ **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
3. ‚úÖ **Deploy Testnet**: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡∏ô Sepolia
4. üîÑ **Phase 2**: ‡πÄ‡∏û‡∏¥‡πà‡∏° DeFi integrations
5. üîÑ **Phase 3**: ERC-4337 Account Abstraction
6. üîÑ **Production**: Audit + Deploy mainnet

### üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:

- [QUICKSTART.md](../QUICKSTART.md) - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß
- [USAGE_EXAMPLES.md](./USAGE_EXAMPLES.md) - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á
- [AA_ARCHITECTURE.md](./AA_ARCHITECTURE.md) - ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° ERC-4337
- [SECURITY.md](./SECURITY.md) - ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

---

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ ‚ù§Ô∏è ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö DeFi City**

_‡∏ó‡∏≥‡πÉ‡∏´‡πâ DeFi ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°_ üéÆ

---

## üí¨ ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ & ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô

- üìñ Documentation: [docs/](.)
- üêõ Issues: GitHub Issues
- üí¨ Community: Discord

**Happy Building!** üèóÔ∏è
